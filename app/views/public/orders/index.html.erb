<div class ="container">
 <div class ="row mt-3" >
  <h1>注文履歴一覧</h1>
 </div>
   <div class="row mt-3">
    <div class "col">
     <table class = "table table-bordered">
      <thead>
       <tr>
        <th>注文日</th>
        <th>配送先</th>
        <th>注文商品</th>
        <th>支払い金額</th>
        <th>ステータス</th>
        <th>注文詳細</th>
       </tr>
      </thead>
      <tbody>
       <% @orders.each do |order| %>
       <tr>
        <td class="align-middle"><%= order.created_at.strftime('%Y/%m/%d') %></td>
        <td class="align-middle"><%= order.address_display %></td>
        <td class="align-middle">
           <% order.order_details.each do |order_detail| %> <%# itemのnameを記述したいが今回はitemモデルとorderモデルはアソシエーションできていないため、間接的に商品id辿ってorder_detailから持ってきている %>
            <%= order_detail.item.name %>
           <% end %>
        </td>
        <td class="align-middle"><%= order.payment %>円</td>
        <td class="align-middle"><%= order.status_i18n %></td>
        <td class="align-middle"><%= link_to "表示する" , order_path(order.id) ,class: "btn btn-primary" %></td>
       </tr>
       <% end %>
      </tbody>
     </table>
    </div>
   </div>
  </div>
 </div>
